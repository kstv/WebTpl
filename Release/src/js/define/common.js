layui.config({base:"../src/js/lib/"}).extend({datatable:"datatable"});layui.use(["layer","jquery","datatable"],function(){var $=layui.jquery,e=layui.layer,t=layui.datatable;$("table thead th input:checkbox").on("click",function(){$(this).closest("table").find("tr > td:first-child input:checkbox").prop("checked",$("table thead th input:checkbox").prop("checked"))});$(function(){$(".table-sort").dataTable({searching:false,paging:false,lengthChange:false,info:false,columnDefs:[{targets:"nosort",orderable:false}],order:[1,"desc"],aoColumnDefs:[{sProcessing:"正在加载中......",sEmptyTable:"无数据",orderable:false,aTargets:[0,9]}]});$(".table-sort tbody").on("click","tr",function(){if($(this).hasClass("selected")){$(this).removeClass("selected")}else{$("tr.selected").removeClass("selected");$(this).addClass("selected")}})});function a(t,a,n,s,l){if(t==null||t==""){t=false}if(a==null||a==""){a="404.html"}if(s==null||s==""){s=800}if(l==null||l==""){l=$(window).height()-50}e.open({type:2,area:[s+"px",l+"px"],fix:false,maxmin:false,shade:.4,title:t,content:a})}function n(){var e=parent.layer.getFrameIndex(window.name);parent.layer.close(e)}$(".btn-showuser").on("click",function(){var e=$(this).html();var t="user/user-show.html";var n=$(this).parents("tr").attr("data-userid");console.log(n);a(e,t,n,"360","400")});$("#btn-adduser").on("click",function(){var e=$(this).html();var t="user/user-add.html";a(e,t,"","360","400")});$(".handle-btn-stop").on("click",function(){var t=$(this);var a=$(this).parents("tr").attr("data-userid");console.log(a);e.confirm("确认要停用吗？",function(a){$(t).parents("tr").find(".td-handle").prepend('<span class="handle-btn" onClick="member_start(this,id)" title="启用"><i class="mobilefont icon-qiyong"></i></span>');$(t).parents("tr").find(".td-status").html('<span class="label label-defaunt radius">已停用</span>');$(t).remove();e.msg("已停用!",{icon:5,time:1e3})})});$(".handle-btn-stop").on("click",function(){var t=$(this);var a=$(this).parents("tr").attr("data-userid");console.log(a);e.confirm("确认要启用吗？",function(a){$(t).parents("tr").find(".td-handle").prepend('<span class="handle-btn" onClick="member_stop(this,id)" title="停用"><i class="mobilefont icon-zanting"></i></span>');$(t).parents("tr").find(".td-status").html('<span class="label label-success radius">已启用</span>');$(t).remove();e.msg("已启用!",{icon:6,time:1e3})})});function s(e,t,n,s,l){a(e,t,s,l)}function l(e,t,n,s,l){a(e,t,s,l)}function i(t,a){e.confirm("确认要删除吗？",function(a){$(t).parents("tr").remove();e.msg("已删除!",{icon:1,time:1e3})})}});